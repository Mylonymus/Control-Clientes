{"remainingRequest":"/Users/mylo/qrgenerator/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mylo/qrgenerator/src/components/ListadoClientes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mylo/qrgenerator/src/components/ListadoClientes.vue","mtime":1572739823121},{"path":"/Users/mylo/qrgenerator/node_modules/cache-loader/dist/cjs.js","mtime":1572646117193},{"path":"/Users/mylo/qrgenerator/node_modules/babel-loader/lib/index.js","mtime":1560361710649},{"path":"/Users/mylo/qrgenerator/node_modules/vuetify-loader/lib/loader.js","mtime":1572645218960},{"path":"/Users/mylo/qrgenerator/node_modules/cache-loader/dist/cjs.js","mtime":1572646117193},{"path":"/Users/mylo/qrgenerator/node_modules/vue-loader/lib/index.js","mtime":1572646117486}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXNlSW5wdXRUZXh0IGZyb20gIi4vQmFzZUlucHV0VGV4dCI7CmltcG9ydCBOdWV2b0NsaWVudGUgZnJvbSAiLi9OdWV2b0NsaWVudGUiOwppbXBvcnQgeyBkYiB9IGZyb20gIi4uL2ZpcmViYXNlIjsKbGV0IG5leHRDbGllbnRlSWQgPSAxOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaXN0YWRvQ2xpZW50ZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIEJhc2VJbnB1dFRleHQsCiAgICBOdWV2b0NsaWVudGUKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBkYi5yZWYoImNsaWVudGVzIikub24oInZhbHVlIiwgc25hcHNob3QgPT4KICAgICAgdGhpcy5vYnRlbmVyQ2xpZW50ZXMoc25hcHNob3QudmFsKCkpCiAgICApOwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpcmViYXNlOiB7CiAgICAgICAgY2xpZW50ZXM6IGRiLnJlZigiY2xpZW50ZXMvIikKICAgICAgfSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgaXRlbXNQZXJQYWdlOiA1LAogICAgICBwYWdlOiAxLAogICAgICBwYWdlQ291bnQ6IDEsCiAgICAgIG5ld0NsaWVudGVUZXh0OiAiIiwKICAgICAgaGVhZGVyczogWwogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICJOb21icmUiLAogICAgICAgICAgYWxpZ246ICJsZWZ0IiwKICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgIHZhbHVlOiAibm9tYnJlIgogICAgICAgIH0sCiAgICAgICAgeyB0ZXh0OiAiUmF6w7NuIFNvY2lhbCIsIHZhbHVlOiAicnMiIH0sCiAgICAgICAgeyB0ZXh0OiAiUkZDIiwgdmFsdWU6ICJyZmMiIH0sCiAgICAgICAgeyB0ZXh0OiAiVGVsw6lmb25vIiwgdmFsdWU6ICJ0ZWxlZm9ubyIgfSwKICAgICAgICB7IHRleHQ6ICJOb21icmUgQ29udGFjdG8iLCB2YWx1ZTogIm5vbWJyZUNvbnRhY3RvIiB9LAogICAgICAgIHsgdGV4dDogIlVSTCIsIHZhbHVlOiAidXJsIiB9LAogICAgICAgIHsgdGV4dDogIlN0YXR1cyIsIHZhbHVlOiAic3RhdHVzIiB9LAogICAgICAgIHsgdGV4dDogIldlYiIsIHZhbHVlOiAid2ViIiwgYWxpZ246ICJjZW50ZXIiIH0sCiAgICAgICAgeyB0ZXh0OiAiRi5BZHMiLCB2YWx1ZTogImZiIiwgYWxpZ246ICJjZW50ZXIiIH0sCiAgICAgICAgeyB0ZXh0OiAiRy5BZHMiLCB2YWx1ZTogImdhIiwgYWxpZ246ICJjZW50ZXIiIH0sCiAgICAgICAgeyB0ZXh0OiAiUGxhbiIsIHZhbHVlOiAicGxhbiIgfSwKICAgICAgICB7IHRleHQ6ICJDYW50aWRhZCIsIHZhbHVlOiAiY2FudGlkYWQiIH0sCiAgICAgICAgeyB0ZXh0OiAiQ29zdGUiLCB2YWx1ZTogImNvc3RlIiB9LAogICAgICAgIHsgdGV4dDogIkdhbmFuY2lhIiwgdmFsdWU6ICJnYW5hbmNpYSIgfSwKICAgICAgICB7IHRleHQ6ICJSZXBvcnRlIE1lbnN1YWwiLCB2YWx1ZTogInJlcG9ydGVNZW5zdWFsIiB9LAogICAgICAgIHsgdGV4dDogIsOabHRpbWEgQ290aXphY2nDs24iLCB2YWx1ZTogInVsdGltYUNvdGl6YWNpb24iIH0sCiAgICAgICAgeyB0ZXh0OiAiQWNjaW9uZXMiLCB2YWx1ZTogImFjY2lvbmVzIiB9CiAgICAgIF0sCiAgICAgIGNsaWVudGVzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICBvYnRlbmVyQ2xpZW50ZXMoY2xpZW50ZXMpewogICAgdGhpcy5jbGllbnRlcyA9IE9iamVjdC52YWx1ZXMoY2xpZW50ZXMpIAogICAgCiAgfSwKICAgIHNob3dPbihzdGF0ZSkgewogICAgICBpZiAoc3RhdGUpIHsKICAgICAgICByZXR1cm4gImdyZWVuIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gInJlZCI7CiAgICAgIH0KICAgIH0sCiAgICBhZGRDbGllbnRlKCkgewogICAgICBjb25zdCB0cmltbWVkVGV4dCA9IHRoaXMubmV3Q2xpZW50ZVRleHQudHJpbSgpOwogICAgICBpZiAodHJpbW1lZFRleHQpIHsKICAgICAgICB0aGlzLmNsaWVudGVzLnB1c2goewogICAgICAgICAgaWQ6IG5leHRDbGllbnRlSWQrKywKICAgICAgICAgIG5vbWJyZTogdHJpbW1lZFRleHQKICAgICAgICB9KTsKICAgICAgICB0aGlzLm5ld0NsaWVudGVUZXh0ID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVDbGllbnRlKGlkVG9SZW1vdmUpIHsKICAgICAgdGhpcy5jbGllbnRlcyA9IHRoaXMuY2xpZW50ZXMuZmlsdGVyKGNsaWVudGUgPT4gewogICAgICAgIHJldHVybiBjbGllbnRlLmlkICE9PSBpZFRvUmVtb3ZlOwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ListadoClientes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListadoClientes.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <NuevoCliente />\n    <v-row>\n      <BaseInputText\n        v-model=\"newClienteText\"\n        placeholder=\"Creador Express de Clientes\"\n        @keydown.enter=\"addCliente\"\n      />\n    </v-row>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"clientes\"\n      :page.sync=\"page\"\n      :items-per-page=\"itemsPerPage\"\n      hide-default-footer\n      class=\"elevation-1\"\n      @page-count=\"pageCount = $event\"\n    >\n      <!-- <template v-slot:item.url=\"{ item }\">\n        <v-btn text icon :href=\"item.url\" target=\"_blank\">\n          <v-icon>mdi-application</v-icon>\n        </v-btn>\n      </template>\n      <template v-slot:item.web=\"{ item }\">\n        <v-icon :color=\"showOn(item.web)\">mdi-checkbox-blank-circle</v-icon>\n      </template>\n      <template v-slot:item.fb=\"{ item }\">\n        <v-icon :color=\"showOn(item.fb)\">mdi-checkbox-blank-circle</v-icon>\n      </template>\n      <template v-slot:item.ga=\"{ item }\">\n        <v-icon :color=\"showOn(item.ga)\">mdi-checkbox-blank-circle</v-icon>\n      </template>-->\n\n      <template v-slot:item.acciones=\"{ item }\">\n        <v-icon small class=\"mr-2\" @click=\"editItem(item)\">mdi-pencil</v-icon>\n        <v-icon small @click=\"removeCliente(item.id)\">mdi-delete</v-icon>\n      </template>\n    </v-data-table>\n    <div class=\"text-center pt-2\">\n      <v-pagination v-model=\"page\" :length=\"pageCount\"></v-pagination>\n      <v-text-field\n        :value=\"itemsPerPage\"\n        label=\"Items per page\"\n        type=\"number\"\n        min=\"5\"\n        max=\"15\"\n        @input=\"itemsPerPage = parseInt($event, 10)\"\n      ></v-text-field>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BaseInputText from \"./BaseInputText\";\nimport NuevoCliente from \"./NuevoCliente\";\nimport { db } from \"../firebase\";\nlet nextClienteId = 1;\n\nexport default {\n  name: \"ListadoClientes\",\n  components: {\n    BaseInputText,\n    NuevoCliente\n  },\n  created() {\n    db.ref(\"clientes\").on(\"value\", snapshot =>\n      this.obtenerClientes(snapshot.val())\n    );\n  },\n  data() {\n    return {\n      firebase: {\n        clientes: db.ref(\"clientes/\")\n      },\n      dialog: false,\n      itemsPerPage: 5,\n      page: 1,\n      pageCount: 1,\n      newClienteText: \"\",\n      headers: [\n        {\n          text: \"Nombre\",\n          align: \"left\",\n          sortable: false,\n          value: \"nombre\"\n        },\n        { text: \"Razón Social\", value: \"rs\" },\n        { text: \"RFC\", value: \"rfc\" },\n        { text: \"Teléfono\", value: \"telefono\" },\n        { text: \"Nombre Contacto\", value: \"nombreContacto\" },\n        { text: \"URL\", value: \"url\" },\n        { text: \"Status\", value: \"status\" },\n        { text: \"Web\", value: \"web\", align: \"center\" },\n        { text: \"F.Ads\", value: \"fb\", align: \"center\" },\n        { text: \"G.Ads\", value: \"ga\", align: \"center\" },\n        { text: \"Plan\", value: \"plan\" },\n        { text: \"Cantidad\", value: \"cantidad\" },\n        { text: \"Coste\", value: \"coste\" },\n        { text: \"Ganancia\", value: \"ganancia\" },\n        { text: \"Reporte Mensual\", value: \"reporteMensual\" },\n        { text: \"Última Cotización\", value: \"ultimaCotizacion\" },\n        { text: \"Acciones\", value: \"acciones\" }\n      ],\n      clientes: []\n    };\n  },\n  methods: {\n  obtenerClientes(clientes){\n    this.clientes = Object.values(clientes) \n    \n  },\n    showOn(state) {\n      if (state) {\n        return \"green\";\n      } else {\n        return \"red\";\n      }\n    },\n    addCliente() {\n      const trimmedText = this.newClienteText.trim();\n      if (trimmedText) {\n        this.clientes.push({\n          id: nextClienteId++,\n          nombre: trimmedText\n        });\n        this.newClienteText = \"\";\n      }\n    },\n    removeCliente(idToRemove) {\n      this.clientes = this.clientes.filter(cliente => {\n        return cliente.id !== idToRemove;\n      });\n    }\n  }\n};\n</script>"]}]}